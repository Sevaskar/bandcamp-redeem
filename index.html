<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Available Codes</title>
    <style>
        body {
            background-color: black;
            color: red;
            font-family: Arial, sans-serif;
            text-align: center;
        }

        .player-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr); /* 3 players per row */
            gap: 20px;
            margin: 20px;
        }

        .player {
            text-align: center;
        }

        iframe {
            width: 100%;
            height: 280px;
            border: none;
        }

        button {
            background-color: red;
            color: white;
            border: none;
            font-size: 16px; /* Adjusted font size */
            cursor: pointer;
            padding: 15px; /* Adjust padding for uniformity */
            width: 100%; /* Ensures buttons are the same width as the iframe */
            max-width: 280px; /* Limits the button width to match the iframe */
            margin-top: 10px;
            height: 50px; /* Consistent height for all buttons */
            display: block;
            margin-left: auto;
            margin-right: auto; /* Centers the buttons */
            box-sizing: border-box; /* Ensures padding is included in the button's size */
            min-width: 280px; /* Ensures minimum button width */
            word-wrap: break-word; /* Ensures text wraps within the button */
            white-space: normal; /* Allows the text to wrap properly */
        }

        button:disabled {
            background-color: gray;
        }

        /* Mobile/Tablet Adjustments */
        @media (max-width: 768px) {
            .player-container {
                grid-template-columns: repeat(2, 1fr); /* 2 players per row on tablets */
            }
        }

        @media (max-width: 480px) {
            .player-container {
                grid-template-columns: 1fr; /* 1 player per row on mobile */
            }
        }
    </style>
</head>
<body>
    <h1>Available Codes Below</h1>
    <div class="player-container">
        <!-- Player 1 -->
        <div class="player">
            <iframe src="https://bandcamp.com/EmbeddedPlayer/album=2458287885/size=large/bgcol=333333/linkcol=0f91ff/transparent=true/" seamless><a href="https://sevaskar.bandcamp.com/album/pandemonium-2">Pandemonium by Sevaskar</a></iframe>
            <button onclick="redeemCode('Pandemonium')">Redeem Pandemonium Code</button>
        </div>

        <!-- Player 2 -->
        <div class="player">
            <iframe src="https://bandcamp.com/EmbeddedPlayer/album=4130268599/size=large/bgcol=333333/linkcol=0f91ff/transparent=true/" seamless><a href="https://sevaskar.bandcamp.com/album/boombox">Boombox by Sevaskar</a></iframe>
            <button onclick="redeemCode('Boombox')">Redeem Boombox Code</button>
        </div>

        <!-- Player 3 -->
        <div class="player">
            <iframe src="https://bandcamp.com/EmbeddedPlayer/album=3303775705/size=large/bgcol=333333/linkcol=0f91ff/transparent=true/" seamless><a href="https://sevaskar.bandcamp.com/album/prophet-for-profit-remix">Prophet for Profit Remix by Sevaskar</a></iframe>
            <button onclick="redeemCode('ProphetForProfitRemix')">Redeem Prophet for Profit Remix Code</button>
        </div>

        <!-- Player 4 -->
        <div class="player">
            <iframe src="https://bandcamp.com/EmbeddedPlayer/track=2254569586/size=large/bgcol=333333/linkcol=0f91ff/tracklist=false/transparent=true/" seamless><a href="https://sevaskar.bandcamp.com/track/vilicus">Vilicus by Sevaskar</a></iframe>
            <button onclick="redeemCode('Vilicus')">Redeem Vilicus Code</button>
        </div>

        <!-- Player 5 -->
        <div class="player">
            <iframe src="https://bandcamp.com/EmbeddedPlayer/album=2580754490/size=large/bgcol=333333/linkcol=0f91ff/transparent=true/" seamless><a href="https://sevaskar.bandcamp.com/album/hiraeth">Hiraeth by Sevaskar</a></iframe>
            <button onclick="redeemCode('Hiraeth')">Redeem Hiraeth Code</button>
        </div>

        <!-- Player 6 -->
        <div class="player">
            <iframe src="https://bandcamp.com/EmbeddedPlayer/album=3391838132/size=large/bgcol=333333/linkcol=0f91ff/transparent=true/" seamless><a href="https://sevaskar.bandcamp.com/album/apoplectic">Apoplectic by Sevaskar</a></iframe>
            <button onclick="redeemCode('Apoplectic')">Redeem Apoplectic Code</button>
        </div>

        <!-- Player 7 -->
        <div class="player">
            <iframe src="https://bandcamp.com/EmbeddedPlayer/album=4104591744/size=large/bgcol=333333/linkcol=0f91ff/transparent=true/" seamless><a href="https://sevaskar.bandcamp.com/album/machiavellian">Machiavellian by Sevaskar</a></iframe>
            <button onclick="redeemCode('Machiavellian')">Redeem Machiavellian Code</button>
        </div>

        <!-- Player 8 -->
        <div class="player">
            <iframe src="https://bandcamp.com/EmbeddedPlayer/album=2582855009/size=large/bgcol=333333/linkcol=0f91ff/transparent=true/" seamless><a href="https://sevaskar.bandcamp.com/album/origins-of-belief">Origins of Belief by Sevaskar</a></iframe>
            <button onclick="redeemCode('OriginsOfBelief')">Redeem Origins of Belief Code</button>
        </div>

        <!-- Player 9 -->
        <div class="player">
            <iframe src="https://bandcamp.com/EmbeddedPlayer/album=2886633887/size=large/bgcol=333333/linkcol=0f91ff/transparent=true/" seamless><a href="https://sevaskar.bandcamp.com/album/20">2.0 by Sevaskar</a></iframe>
            <button onclick="redeemCode('2_0')">Redeem 2.0 Code</button>
        </div>
    </div>

    <script>
        function redeemCode(albumName) {
            const url = "https://script.google.com/macros/s/AKfycbydyrw1-pr2HEKo8BdOaJIurYg-TACNYtW8Kj0c_Ot3fbC6kFWZzDaFGRGWqpDXe1xs/exec"; // Replace with your Web App URL

            // Call the Google Apps Script to redeem a code for the selected album
            fetch(`${url}?album=${albumName}`, { method: "GET" })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        alert("Code redeemed successfully!");
                    } else {
                        alert("Sorry, no codes left or you've already redeemed a code for this album.");
                    }
                })
                .catch(error => {
                    console.error("Error:", error);
                    alert("An error occurred. Please try again later.");
                });
        }
    </script>
</body>
</html>
